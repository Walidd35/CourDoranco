{% extends "admin/base.html.twig" %}

{% block title %}
	{{parent()}}Produit - Details
{% endblock %}

{% block body %}
	<main class="container border rounded my-5 py-3">
		{% if product is not null %}
			{# <pre>
									    {{ dump(product) }}
									</pre> #}
			<div>
				<img src={{product.image starts with 'http' ? product.image : vich_uploader_asset(product, 'thumbnail') }} alt="image de {{product.name}}">
				<h1>{{product.name}}</h1>
				<p>{{product.description}}</p>
				<p>Prix: ${{product.price}}</p>
				<p>Category:
					{{ product.category.name ?? 'N/A'}}</p>
				<p>ID:
					{{product.id}}</p>
				<p>Date de Création:
					{{product.createdAt|date('d/m/y')}}
				</p>
				<p>Date de Mise à Jour:
					{{product.updatedAt|date('d/m/y')}}
				</p>
				<div class="d-flex justify-content-around">
					<a class="btn btn-warning" href={{path('admin_product_edit', {'slug': product.slug} )}}>Modifier</a>
					<form action={{path('admin_product_delete', {'id': product.id} )}} method="POST">
						<input type="hidden" name="_method" value="DELETE">
						<button type="submit" class="btn btn-danger">Supprimer</button>
					</form>
				</div>
			</div>

		{% endif %}


	</main>

{% endblock %}
