{% extends 'admin/base.html.twig' %}

{% block title %}Hello RecipeController!
{% endblock %}

{% block body %}
	<main class="d-flex flex-column gap-5 align-items-center">
		<h1>Gérer les Recettes</h1>
		<a class="btn btn-primary" href={{path('admin_recipe_create')}}>Créer</a>
		<table class="table table-striped table-bordered w-75">
			<thead class="table-dark">
				<tr>
					<th>Titre</th>
					<th>Etapes</th>
					<th colspan="2">Actions</th>
				</tr>
			</thead>
			<tbody>
				{% for recipe in recipes %}
					<tr>
						<td>
							<a href={{path('admin_recipe_show', {'slug': recipe.slug} )}}>{{recipe.name}}</a>
						</td>
						<td>{{recipe.description}}</td>
						<td>
							<a class="btn btn-warning" href={{path('admin_recipe_edit', {'slug': recipe.slug} )}}>Editer</a>
						</td>
						<td>
							<form action={{path('admin_recipe_delete', {'id': recipe.id} )}} method="POST">
								<input type="hidden" name="_method" value="DELETE">
								<button type="submit" class="btn btn-danger">Supprimer</button>
							</form>
						</td>
					</tr>
				{% endfor %}

			</tbody>
		</table>
	</main>
{% endblock %}
